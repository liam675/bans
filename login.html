<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ballhog - Login</title>
    <link rel="icon" href="main.ico" type="image/x-icon">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        *{margin:0;padding:0;box-sizing:border-box;}
        body{
            font-family:'Inter',sans-serif;
            background:linear-gradient(135deg,#0a0a0f 0%,#111118 35%,#0d0d14 70%,#08080c 100%);
            background-attachment:fixed;color:#e8e8ff;min-height:100vh;
            display:flex;align-items:center;justify-content:center;position:relative;overflow:hidden;
        }
        .particles{position:fixed;top:0;left:0;right:0;bottom:0;pointer-events:none;z-index:-1;overflow:hidden;}
        .particle{
            position:absolute;width:2px;height:2px;background:#ffffff;
            border-radius:50%;box-shadow:0 0 8px rgba(255,255,255,0.6);
            animation:floatUp 18s infinite linear;opacity:0;
        }
        .particle::before{content:'';position:absolute;width:100%;height:100%;background:inherit;border-radius:50%;filter:blur(3px);animation:pulse 2.5s infinite ease-in-out;}
        @keyframes floatUp{0%{transform:translateY(100vh) translateX(0);opacity:0}10%{opacity:0.8}90%{opacity:0.8}100%{transform:translateY(-100px) translateX(var(--drift));opacity:0}}
        @keyframes pulse{0%,100%{transform:scale(1);opacity:0.7}50%{transform:scale(1.8);opacity:0.3}}
        .card{
            background:rgba(12,12,22,0.92);border:1px solid rgba(90,100,150,0.3);
            border-radius:24px;width:90%;max-width:420px;padding:45px 35px;
            text-align:center;box-shadow:0 25px 70px rgba(0,0,0,0.6);position:relative;
        }
        .logo{width:65px;height:65px;margin:0 auto 22px;background:url('main.ico') center/cover;border-radius:50%;}
        .title{font-size:1.9rem;font-weight:700;margin-bottom:10px;
            background:linear-gradient(90deg,#88aaff,#aaccff);-webkit-background-clip:text;
            -webkit-text-fill-color:transparent;background-clip:text;}
        .subtitle{color:#b8b8e0;margin-bottom:32px;font-size:1rem;}
        .form-group{margin-bottom:22px;text-align:left;}
        .label{display:block;color:#d8d8ff;font-weight:500;margin-bottom:10px;font-size:0.95rem;}
        .input{
            width:100%;padding:15px 18px;background:rgba(30,35,65,0.65);
            border:1px solid rgba(120,140,200,0.35);border-radius:14px;color:#e8e8ff;
            font-size:1.02rem;transition:all .3s;
        }
        .input:focus{outline:none;border-color:#88aaff;box-shadow:0 0 0 4px rgba(136,170,255,0.25);background:rgba(40,50,90,0.75);}
        .btn{
            width:100%;padding:17px;background:rgba(35,45,85,0.55);color:#d8d8ff;
            border:1.5px solid rgba(140,160,220,0.4);border-radius:16px;
            font-size:1.15rem;font-weight:600;cursor:pointer;transition:all .4s;
            display:flex;align-items:center;justify-content:center;gap:10px;margin-top:12px;
            backdrop-filter:blur(10px);
        }
        .btn:hover{
            background:rgba(55,70,120,0.8);border-color:#88aaff;
            transform:translateY(-3px);box-shadow:0 12px 30px rgba(136,170,255,0.35);color:#fff;
        }
        .msg{margin:16px 0;padding:12px;border-radius:12px;font-size:0.95rem;opacity:0;transition:opacity .3s;}
        .msg.show{opacity:1;}
        .error{background:rgba(255,80,80,0.2);color:#ff6b6b;border:1px solid rgba(255,80,80,0.3);}
        .success{background:rgba(80,255,80,0.2);color:#90ff90;border:1px solid rgba(80,255,80,0.3);}
    </style>
</head>
<body>
    <div class="particles" id="particles"></div>

    <div class="card">
        <div class="logo"></div>
        <h2 class="title">Welcome Back</h2>
        <p class="subtitle">Sign in to your Ballhog account</p>
        <div id="message"></div>
        <form id="login-form">
            <div class="form-group">
                <label class="label">Username</label>
                <input type="text" id="username" class="input" placeholder="Enter username" required>
            </div>
            <div class="form-group">
                <label class="label">Password</label>
                <input type="password" id="password" class="input" placeholder="Enter password" required>
            </div>
            <button type="submit" class="btn">Access Ballhog</button>
        </form>
        <p style="margin-top:20px;font-size:0.9rem;color:#a0a0d8;">
            No account? <a href="register.html" style="color:#88aaff;text-decoration:none;">Register here</a>
        </p>
    </div>

    <script>
        const ACCOUNTS_URL = 'https://raw.githubusercontent.com/liam675/keys.json/refs/heads/main/accounts';
        document.getElementById('login-form').onsubmit = async e => {
            e.preventDefault();
            const username = document.getElementById('username').value.trim();
            const password = document.getElementById('password').value;
            const msgDiv = document.getElementById('message');
            if (!username || !password) return showMsg('error', 'Enter both fields');

            try {
                const r = await fetch(ACCOUNTS_URL);
                if (!r.ok) throw new Error('Failed to fetch accounts');
                const accounts = await r.json();
                if (accounts[username] && accounts[username].password === password) {
                    localStorage.setItem('ballhog_user', JSON.stringify({
                        username,
                        ...accounts[username],
                        loginTime: new Date().toLocaleString()
                    }));
                    showMsg('success', 'Logged in! Redirecting...');
                    setTimeout(() => window.location.href = 'dashboard.html', 1000);
                } else {
                    showMsg('error', 'Invalid username or password');
                }
            } catch (err) {
                showMsg('error', err.message || 'Connection failed');
            }
        };

        function showMsg(type, txt) {
            const msgDiv = document.getElementById('message');
            msgDiv.innerHTML = `<div class="msg ${type} show">${txt}</div>`;
            setTimeout(() => msgDiv.innerHTML = '', 4000);
        }

        // Particles
        const pc=document.getElementById('particles'),cnt=45;
        for(let i=0;i<cnt;i++)create();
        function create(){
            const p=document.createElement('div');p.className='particle';
            const x=Math.random()*innerWidth,d=(Math.random()-.5)*220,del=Math.random()*18,dur=16+Math.random()*10;
            p.style.left=x+'px';p.style.setProperty('--drift',d+'px');
            p.style.animationDelay='-'+del+'s';p.style.animationDuration=dur+'s';
            pc.appendChild(p);
            p.addEventListener('animationend',()=>{p.remove();create();});
        }
    </script>
</body>
</html>
